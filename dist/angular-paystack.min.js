!function(t,e,n){"use strict";(function(){e.module("paystack.providers",[]),e.module("paystack",["paystack.providers"])}).call(this),function(){var n={transport:"https",preventLoad:!1,key:""};e.module("paystack.providers").factory("paystackScriptLoader",["$q",function(n){var a,c,o,r;return r=void 0,a=function(t){return"auto"===t.transport?"//js.paystack.co/v1/inline.js":t.transport+"://js.paystack.co/v1/inline.js"},c=function(t){var e,n;return r&&(n=document.getElementById(r),n.parentNode.removeChild(n)),e=document.createElement("script"),e.type="text/javascript",e.src=a(t),document.body.appendChild(e)},o=function(){return e.isDefined(t.PaystackPop)&&e.isDefined(t.PaystackPop.setup)},{load:function(e){var a;return a=n.defer(),o()?(a.resolve(t.PaystackPop),a.promise):(t.navigator.connection&&t.Connection&&t.navigator.connection.type===t.Connection.NONE&&!e.preventLoad?document.addEventListener("online",function(){return o()?void 0:c(e)}):e.preventLoad||c(e),a.promise)}}}]).provider("$paystack",function(){return this.configure=function(t){e.extend(n,t)},this.$get=["paystackScriptLoader",function(t){return function(t){return t.load(n)}}(this)],this}),e.module("paystack").directive("paystackPayButton",["$paystack",function(t){return{restrict:"EMA",template:function(t,e){return e.text?'<button class="paystack-pay-button {{class}}">'+e.text+"</button>":'<button class="paystack-pay-button {{class}}">Make Payment</button>'},replace:!0,scope:{"class":"@",email:"=",amount:"=",reference:"=",beforepopup:"=?",callback:"=?",metadata:"=?",close:"=?",currency:"=?",plan:"=?",quantity:"=?",subaccount:"=?",transaction_charge:"=?",bearer:"=?"},link:function(a,c,o){return a.text=o.text||"Make Payment",t.then(function(t){e.element(c).click(function(){var t="undefined"!==a.beforepopup?a.beforepopup():!0,e=PaystackPop.setup({key:n.key,email:a.email,amount:a.amount,ref:a.reference,metadata:a.metadata,callback:function(t){a.callback(t)},onClose:function(){a.close()},currency:a.currency,plan:a.plan,quantity:a.quantity,subaccount:a.subaccount,transaction_charge:a.transaction_charge,bearer:a.bearer});t&&e.openIframe()})}(this))}}}])}.call(this)}(window,angular);